--
-- check static and global data (SD and GD), session 间不共享
--
CREATE FUNCTION global_test_three() returns text
    AS
'if "global_test" not in SD:
	SD["global_test"] = "set by global_test_three"
if "global_test" not in GD:
	GD["global_test"] = "set by global_test_three"
return "SD: " + SD["global_test"] + ", GD: " + GD["global_test"]'
    LANGUAGE plpython3u;
SELECT static_test();
 static_test 
-------------
           1
(1 row)

SELECT static_test();
 static_test 
-------------
           2
(1 row)

SELECT global_test_three();
                     global_test_three                      
------------------------------------------------------------
 SD: set by global_test_three, GD: set by global_test_three
(1 row)

SELECT global_test_two();
                     global_test_two                      
----------------------------------------------------------
 SD: set by global_test_two, GD: set by global_test_three
(1 row)

SELECT global_test_one();
                     global_test_one                      
----------------------------------------------------------
 SD: set by global_test_one, GD: set by global_test_three
(1 row)

